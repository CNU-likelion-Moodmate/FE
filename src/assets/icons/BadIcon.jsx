import styled from "styled-components";
import { GRAY2, YELLOW } from "../../constants/color";
import { CompleteQuestApi } from "../../api/quest";

const Svg = styled.svg`
  cursor: pointer;
  &:hover {
    path {
      fill: ${YELLOW};
    }
  }
`;

export const BadIcon = ({ closeModal, id }) => {

  const handleReview = async () => {
    try {
      closeModal();
      await CompleteQuestApi({questRecordId: id, rate: 0});
    } catch (error) {
      console.error(error);
    }
  }

  return (
    <Svg onClick={handleReview} width="46" height="43" viewBox="0 0 46 43" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path 
        d="M0.00789997 24.7069C-0.0183993 25.019 0.0211318 25.3332 0.123991 25.6294C0.22685 25.9257 0.390799 26.1976 0.605461 26.428C0.820124 26.6584 1.08083 26.8422 1.37107 26.9678C1.66132 27.0935 1.97479 27.1582 2.29164 27.1579H6.67025C7.27745 27.1579 7.85979 26.9195 8.28915 26.495C8.7185 26.0706 8.95972 25.495 8.95972 24.8947V2.26316C8.95972 1.66293 8.7185 1.08729 8.28915 0.662864C7.85979 0.23844 7.27745 5.59103e-07 6.67025 5.59103e-07H4.19763C3.62334 2.86866e-05 3.07003 0.213405 2.64744 0.597814C2.22485 0.982222 1.96384 1.50959 1.91617 2.07532L0.00789997 24.7069ZM15.8281 24.4715C15.8281 25.4164 16.4234 26.2628 17.2877 26.6668C19.1753 27.546 22.3909 29.3147 23.8413 31.7068C25.7106 34.7881 26.0632 40.3566 26.1204 41.6319C26.1284 41.8107 26.1238 41.9895 26.1479 42.166C26.4581 44.376 30.7726 41.7949 32.4268 39.0655C33.3254 37.5854 33.4398 35.6402 33.346 34.1205C33.2441 32.4967 32.7622 30.9261 32.2894 29.3667L31.282 26.0433H43.7104C44.0641 26.0433 44.413 25.9623 44.7298 25.8066C45.0465 25.651 45.3225 25.4249 45.536 25.1461C45.7495 24.8673 45.8947 24.5434 45.9603 24.1998C46.0259 23.8562 46.01 23.5022 45.914 23.1657L39.7668 1.64758C39.6311 1.173 39.3423 0.755225 38.9443 0.457819C38.5463 0.160413 38.0609 -0.000345984 37.562 5.59103e-07H18.1176C17.5104 5.59103e-07 16.928 0.23844 16.4987 0.662864C16.0693 1.08729 15.8281 1.66293 15.8281 2.26316V24.4715Z" 
        fill={GRAY2}
      />
    </Svg>
  );
}